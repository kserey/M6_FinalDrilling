{% extends 'base.html' %}

{% block title %}Registro{% endblock %}

{% block content %}

<div class="container">
    <h1 class="mt-3 text-center">Crear Usuario</h1>

    <form method="POST" class="mt-3">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="{{ form.username.id_for_label }}">Nombre de usuario</label>
            {{ form.username }}
        </div>

        <div class="form-group">
            <label for="{{ form.email.id_for_label }}">Correo electrónico</label>
            {{ form.email }}
        </div>

        <div class="form-group">
            <label for="{{ form.password1.id_for_label }}">Contraseña</label>
            <div class="input-group">
                {{ form.password1 }}
                <span class="input-group-text" id="toggle-password1">
                    <i class="bi bi-eye" id="password1-eye"></i>
                </span>
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.password2.id_for_label }}">Confirmar Contraseña</label>
            <div class="input-group">
                {{ form.password2 }}
                <span class="input-group-text" id="toggle-password2">
                    <i class="bi bi-eye" id="password2-eye"></i>
                </span>
            </div>
        </div>

        <div class="mt-3">
            <button type="submit" class="btn btn-primary w-100">Crear Usuario</button>
        </div>
    </form>
  </div>

  <script>
      // Función para mostrar u ocultar la contraseña
      const togglePassword = (passwordInput, toggleIcon) => {
          const type = passwordInput.type === 'password' ? 'text' : 'password';
          passwordInput.type = type;

          if (passwordInput.type === 'password') {
              toggleIcon.classList.remove('bi-eye-slash');
              toggleIcon.classList.add('bi-eye');
          } else {
              toggleIcon.classList.remove('bi-eye');
              toggleIcon.classList.add('bi-eye-slash');
          }
      }

      const password1Input = document.getElementById('id_password1');
      const password2Input = document.getElementById('id_password2');
      const password1Icon = document.getElementById('password1-eye');
      const password2Icon = document.getElementById('password2-eye');

      document.getElementById('toggle-password1').addEventListener('click', () => {
          togglePassword(password1Input, password1Icon);
      });

      document.getElementById('toggle-password2').addEventListener('click', () => {
          togglePassword(password2Input, password2Icon);
      });
  </script>
{% endblock %} 